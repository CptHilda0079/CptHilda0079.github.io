# Viper Command and Control Server/Agent

## Introduction
This programming project aimed to gain insight into how C2 server/agents work. I have read articles and completed C2 in lab exercises that involve using frameworks such as [Empire](https://github.com/EmpireProject/Empire) and [Cobalt Strike](https://www.cobaltstrike.com/); however, I never really understood exactly what processes were being run under the hood.

## What is a Command and Control (C2) server?
Simply put, a C2 server is a central control point that attackers use to manage communication with infected machines. When an attacker installs malware onto a company's network, it is usually configured to connect back to the C2 server (owned by the attacker), allowing the attacker to receive/send commands, exfiltrate data, and update the infected machine's malware to launch even more sophisticated attacks.

## How do C2 servers work?
When an attacker infiltrates a network and downloads malware, they need a way to control the flow of the malicious program; they do this by reaching back (Beaconing) to a C2 server and repeatedly checking for new commands/tasks, essentially asking the C2 server: "What commands should I run next?". If the connection is still active, the C2 server (owned by the attacker) will send commands back to the agent (infected machine). These commands may include:
- Downloading a file
- Scanning other machines on the network (for lateral movement)
- Finding more information about the infected machine

## Types of C2 servers

## Analysis of Viper C2
Viper C2 was written in Python; it is a short but powerful program with features such as:
- Symmetrical encryption using Fernet (AES-128-CBC + HMAC-SHA-256)
- Random user-agents for obfuscation



